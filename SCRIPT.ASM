BITS 32
ORG 0h

;/* Parameter Count */
DB 1

;/* External Functions */
xf_STRCAT equ 4
xf_STRCMP equ 8
xf_STRFORMAT equ 12
xf_STR equ 224
xf_STRLEN equ 696
xf_INSTR equ 280
xf_VAL equ 376
xf_RANDOM equ 16
xf_ABS equ 232
xf_SQR equ 236
xf_DIVIDE equ 700
xf_FINDPLAYER equ 372
xf_GETPLAYERIP equ 384
xf_GETPLAYERACCESS equ 20
xf_GETPLAYERMAP equ 24
xf_GETPLAYERX equ 28
xf_GETPLAYERY equ 32
xf_GETPLAYERSPRITE equ 36
xf_GETPLAYERCLASS equ 40
xf_GETPLAYERGENDER equ 44
xf_GETPLAYERBANK equ 88
xf_GETPLAYEREXPERIENCE equ 92
xf_GETPLAYERLEVEL equ 96
xf_GETPLAYERSTATUS equ 100
xf_GETPLAYERGUILD equ 104
xf_GETPLAYERINVOBJECT equ 108
xf_GETPLAYERINVVALUE equ 112
xf_GETPLAYEREQUIPPED equ 116
xf_GETPLAYERDIRECTION equ 404
xf_GETPLAYERARMOR equ 436
xf_GETPLAYERMAGICARMOR equ 456
xf_GETPLAYERDAMAGE equ 504
xf_GETPLAYERNAME equ 120
xf_GETPLAYERUSER equ 124
xf_GETPLAYERDESC equ 128
xf_GETPLAYERGUILDRANK equ 480
xf_GETPLAYERISDEAD equ 492
xf_GIVEPLAYEREXP equ 400
xf_GIVEPLAYERELITEEXP equ 780
xf_HASOBJ equ 184
xf_TAKEOBJ equ 188
xf_GIVEOBJ equ 192
xf_ISPLAYING equ 244
xf_CANATTACKPLAYER equ 240
xf_CANATTACKMONSTER equ 256
xf_ATTACKPLAYER equ 248
xf_MAGICATTACKPLAYER equ 460
xf_ATTACKMONSTER equ 252
xf_MAGICATTACKMONSTER equ 464
xf_SETPLAYERCLASS equ 668
xf_SETPLAYERSPRITE equ 228
xf_SETPLAYERSTATUS equ 396
xf_SETPLAYERGUILD equ 304
xf_SETPLAYERISDEAD equ 496
xf_SETPLAYERDIRECTION equ 672
xf_SETPLAYERNAME equ 360
xf_SETPLAYERBANK equ 364
xf_BOOTPLAYER equ 352
xf_BANPLAYER equ 356
xf_PLAYERMESSAGE equ 144
xf_PLAYERWARP equ 148
xf_GETPLAYERFLAG equ 316
xf_SETPLAYERFLAG equ 320
xf_GETGUILDHALL equ 160
xf_GETGUILDBANK equ 164
xf_GETGUILDMEMBERCOUNT equ 168
xf_GETGUILDNAME equ 172
xf_GETGUILDSPRITE equ 296
xf_SETGUILDBANK equ 368
xf_GETMAPNAME equ 692
xf_GETMAPPLAYERCOUNT equ 176
xf_GETMAPISFRIENDLY equ 720
xf_GETMAPISPK equ 724
xf_GETMAPISARENA equ 728
xf_GETMAPOBJVAL equ 732
xf_GETBOOTLOCATIONMAP equ 756
xf_GETBOOTLOCATIONX equ 760
xf_GETBOOTLOCATIONY equ 764
xf_SETMAPOBJVAL equ 736
xf_OPENDOOR equ 220
xf_MAPMESSAGEALLBUT equ 180
xf_MAPMESSAGE equ 152
xf_NPCSAY equ 288
xf_NPCTELL equ 292
xf_SPAWNMONSTER equ 392
xf_DESPAWNMONSTER equ 776
xf_SPAWNOBJECT equ 284
xf_DESTROYOBJECT equ 348
xf_GETOBJX equ 332
xf_GETOBJY equ 336
xf_GETOBJNUM equ 340
xf_GETOBJVAL equ 344
xf_GETOBJECTNAME equ 412
xf_GETOBJECTDATA equ 416
xf_GETOBJECTTYPE equ 420
xf_DISPLAYOBJDUR equ 424
xf_SETINVOBJECTVAL equ 428
xf_GETMONSTERTYPE equ 260
xf_GETMONSTERX equ 264
xf_GETMONSTERY equ 268
xf_GETMONSTERHP equ 704
xf_GETMONSTERDIRECTION equ 500
xf_GETMONSTERTARGET equ 272
xf_SETMONSTERTARGET equ 276
xf_SETMONSTERHP equ 708
xf_MONSTERATTACKPLAYER equ 712
xf_MONSTERMAGICATTACKPLAYER equ 716
xf_CREATEMAPFLOATTEXT equ 472
xf_CREATEPLAYERFLOATTEXT equ 476
xf_CREATEMAPSTATICTEXT equ 676
xf_GETFLAG equ 308
xf_SETFLAG equ 312
xf_GLOBALMESSAGE equ 156
xf_GETTIME equ 196
xf_GETMAXUSERS equ 200
xf_RUNSCRIPT0 equ 204
xf_RUNSCRIPT1 equ 208
xf_RUNSCRIPT2 equ 212
xf_RUNSCRIPT3 equ 216
xf_RUNSCRIPT4 equ 388
xf_GETTILEATT equ 380
xf_GETTILEATT2 equ 680
xf_GETTILEISVACANT equ 684
xf_GETTILENODIRECTIONALWALLS equ 688
xf_PLAYCUSTOMWAV equ 432
xf_TIMER equ 300
xf_RESETMAP equ 468
xf_CREATETILEEFFECT equ 440
xf_CREATECHARACTEREFFECT equ 444
xf_CREATEMONSTEREFFECT equ 448
xf_CREATEPLAYEREFFECT equ 452
xf_CREATEPLAYERPROJECTILE equ 484
xf_CREATEPLAYERMAGICPROJECTILE equ 488
xf_SETITEMSUFFIX equ 508
xf_GETITEMSUFFIX equ 512
xf_SETEQUIPPEDITEMSUFFIX equ 516
xf_GETEQUIPPEDITEMSUFFIX equ 520
xf_SETITEMPREFIX equ 524
xf_GETITEMPREFIX equ 528
xf_SETEQUIPPEDITEMPREFIX equ 532
xf_GETEQUIPPEDITEMPREFIX equ 536
xf_GETPREFIXNAME equ 540
xf_GETSUFFIXNAME equ 544
xf_GETPLAYERHP equ 48
xf_GETPLAYERENERGY equ 52
xf_GETPLAYERMANA equ 56
xf_GETPLAYERMAXHP equ 60
xf_GETPLAYERMAXENERGY equ 64
xf_GETPLAYERMAXMANA equ 68
xf_SETPLAYERHP equ 132
xf_SETPLAYERENERGY equ 136
xf_SETPLAYERMANA equ 140
xf_SETPLAYERMAXHP equ 548
xf_SETPLAYERMAXENERGY equ 552
xf_SETPLAYERMAXMANA equ 556
xf_GETPLAYERSTRENGTH equ 72
xf_GETPLAYERENDURANCE equ 76
xf_GETPLAYERINTELLIGENCE equ 80
xf_GETPLAYERAGILITY equ 84
xf_GETPLAYERCONCENTRATION equ 560
xf_GETPLAYERCONSTITUTION equ 564
xf_GETPLAYERSTAMINA equ 568
xf_GETPLAYERWISDOM equ 572
xf_GETPLAYERBASESTRENGTH equ 576
xf_GETPLAYERBASEENDURANCE equ 580
xf_GETPLAYERBASEINTELLIGENCE equ 584
xf_GETPLAYERBASEAGILITY equ 588
xf_GETPLAYERBASECONCENTRATION equ 592
xf_GETPLAYERBASECONSTITUTION equ 596
xf_GETPLAYERBASESTAMINA equ 600
xf_GETPLAYERBASEWISDOM equ 604
xf_SETPLAYERSTRENGTH equ 608
xf_SETPLAYERENDURANCE equ 612
xf_SETPLAYERINTELLIGENCE equ 616
xf_SETPLAYERAGILITY equ 620
xf_SETPLAYERCONCENTRATION equ 624
xf_SETPLAYERCONSTITUTION equ 628
xf_SETPLAYERSTAMINA equ 632
xf_SETPLAYERWISDOM equ 636
xf_GETPLAYERSKILLLEVEL equ 740
xf_GIVEPLAYERSKILLEXP equ 744
xf_SETPLAYERSKILLLEVEL equ 768
xf_GETPLAYERMAGICLEVEL equ 748
xf_GIVEPLAYERMAGICEXP equ 752
xf_SETPLAYERMAGICLEVEL equ 772
xf_CALCULATESTATS equ 640
xf_READINIINT equ 644
xf_READINISTR equ 648
xf_WRITEINISTR equ 652
xf_SETOUTDOORLIGHT equ 656
pv_PLAYER@MAIN equ -8
lv_A@MAIN equ 4
lv_DESPERATESUFFIX@MAIN equ 8

;/* Function MAIN */
f_MAIN:
ENTER 8,0
XOR EAX,EAX
MOV [EBP-lv_A@MAIN],EAX
MOV [EBP-lv_DESPERATESUFFIX@MAIN],EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,1
JE misc1
XOR EAX,EAX
JMP misc2
misc1:
MOV EAX,-1
misc2:
TEST EAX,EAX
JNZ if1
LEA EAX,[ESI+endif1]
JMP EAX
if1:
PUSH DWORD 1
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif1:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,2
JE misc3
XOR EAX,EAX
JMP misc4
misc3:
MOV EAX,-1
misc4:
TEST EAX,EAX
JNZ if2
LEA EAX,[ESI+endif2]
JMP EAX
if2:
PUSH DWORD 3
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif2:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,3
JE misc5
XOR EAX,EAX
JMP misc6
misc5:
MOV EAX,-1
misc6:
TEST EAX,EAX
JNZ if3
LEA EAX,[ESI+endif3]
JMP EAX
if3:
PUSH DWORD 5
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif3:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,4
JE misc7
XOR EAX,EAX
JMP misc8
misc7:
MOV EAX,-1
misc8:
TEST EAX,EAX
JNZ if4
LEA EAX,[ESI+endif4]
JMP EAX
if4:
PUSH DWORD 7
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif4:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,5
JE misc9
XOR EAX,EAX
JMP misc10
misc9:
MOV EAX,-1
misc10:
TEST EAX,EAX
JNZ if5
LEA EAX,[ESI+endif5]
JMP EAX
if5:
PUSH DWORD 21
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif5:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,6
JE misc11
XOR EAX,EAX
JMP misc12
misc11:
MOV EAX,-1
misc12:
TEST EAX,EAX
JNZ if6
LEA EAX,[ESI+endif6]
JMP EAX
if6:
PUSH DWORD 196
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif6:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,7
JE misc13
XOR EAX,EAX
JMP misc14
misc13:
MOV EAX,-1
misc14:
TEST EAX,EAX
JNZ if7
LEA EAX,[ESI+endif7]
JMP EAX
if7:
PUSH DWORD 97
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif7:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERCLASS]
CMP EAX,8
JE misc15
XOR EAX,EAX
JMP misc16
misc15:
MOV EAX,-1
misc16:
TEST EAX,EAX
JNZ if8
LEA EAX,[ESI+endif8]
JMP EAX
if8:
PUSH DWORD 78
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif8:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERGUILD]
CMP EAX,0
JG misc17
XOR EAX,EAX
JMP misc18
misc17:
MOV EAX,-1
misc18:
TEST EAX,EAX
JNZ if9
LEA EAX,[ESI+endif9]
JMP EAX
if9:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERGUILD]
PUSH DWORD EAX
CALL [EDI+xf_GETGUILDSPRITE]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
endif9:
PUSH DWORD 0
PUSH DWORD 1
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
PUSH DWORD 0
PUSH DWORD 2
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
PUSH DWORD 0
PUSH DWORD 3
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_HASOBJ]
CMP EAX,0
JG misc19
XOR EAX,EAX
JMP misc20
misc19:
MOV EAX,-1
misc20:
TEST EAX,EAX
JNZ if10
LEA EAX,[ESI+endif10]
JMP EAX
if10:
PUSH DWORD 1
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_TAKEOBJ]
endif10:
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_HASOBJ]
CMP EAX,0
JG misc21
XOR EAX,EAX
JMP misc22
misc21:
MOV EAX,-1
misc22:
TEST EAX,EAX
JNZ if11
LEA EAX,[ESI+endif11]
JMP EAX
if11:
PUSH DWORD 1
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_TAKEOBJ]
endif11:
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_HASOBJ]
CMP EAX,0
JG misc23
XOR EAX,EAX
JMP misc24
misc23:
MOV EAX,-1
misc24:
TEST EAX,EAX
JNZ if12
LEA EAX,[ESI+endif12]
JMP EAX
if12:
PUSH DWORD 1
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_TAKEOBJ]
endif12:
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_HASOBJ]
CMP EAX,0
JG misc25
XOR EAX,EAX
JMP misc26
misc25:
MOV EAX,-1
misc26:
TEST EAX,EAX
JNZ if13
LEA EAX,[ESI+endif13]
JMP EAX
if13:
PUSH DWORD 1
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_TAKEOBJ]
endif13:
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_HASOBJ]
CMP EAX,0
JG misc27
XOR EAX,EAX
JMP misc28
misc27:
MOV EAX,-1
misc28:
TEST EAX,EAX
JNZ if14
LEA EAX,[ESI+endif14]
JMP EAX
if14:
PUSH DWORD 1
PUSH DWORD 348
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_TAKEOBJ]
endif14:
PUSH DWORD 0
PUSH DWORD 50
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
PUSH DWORD 0
PUSH DWORD 53
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
PUSH DWORD 0
PUSH DWORD 54
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
LEA EAX,[ESI+string0]
PUSH DWORD EAX
CALL [EDI+xf_RUNSCRIPT0]
LEA EAX,[ESI+string1]
PUSH EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERIP]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if15
LEA EAX,[ESI+else15]
JMP EAX
if15:
LEA EAX,[ESI+string2]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_BOOTPLAYER]
else15:
LEA EAX,[ESI+string3]
PUSH EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERIP]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if16
LEA EAX,[ESI+else16]
JMP EAX
if16:
LEA EAX,[ESI+string4]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_BOOTPLAYER]
else16:
LEA EAX,[ESI+string5]
PUSH EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERIP]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if17
LEA EAX,[ESI+else17]
JMP EAX
if17:
PUSH DWORD 12
LEA EAX,[ESI+string6]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
else17:
LEA EAX,[ESI+string7]
PUSH EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if18
LEA EAX,[ESI+else18]
JMP EAX
if18:
PUSH DWORD 10
LEA EAX,[ESI+string8]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
PUSH DWORD 453
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 9
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
else18:
MOV [EBP-lv_DESPERATESUFFIX@MAIN], DWORD 50
for1:
MOV [EBP-lv_A@MAIN], DWORD 0
for2:
PUSH DWORD [EBP-lv_A@MAIN]
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETITEMSUFFIX]
CMP EAX,[EBP-lv_DESPERATESUFFIX@MAIN]
JE misc29
XOR EAX,EAX
JMP misc30
misc29:
MOV EAX,-1
misc30:
TEST EAX,EAX
JNZ if19
LEA EAX,[ESI+endif19]
JMP EAX
if19:
PUSH DWORD 0
PUSH DWORD [EBP-lv_A@MAIN]
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETITEMSUFFIX]
endif19:
PUSH DWORD 1
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETEQUIPPEDITEMSUFFIX]
CMP EAX,[EBP-lv_DESPERATESUFFIX@MAIN]
JE misc31
XOR EAX,EAX
JMP misc32
misc31:
MOV EAX,-1
misc32:
TEST EAX,EAX
JNZ if20
LEA EAX,[ESI+endif20]
JMP EAX
if20:
PUSH DWORD 0
PUSH DWORD 1
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETEQUIPPEDITEMSUFFIX]
endif20:
INC DWORD [EBP-lv_A@MAIN]
CMP DWORD [EBP-lv_A@MAIN],25
JG exitfor2
LEA EAX,[ESI+for2]
JMP EAX
exitfor2:
INC DWORD [EBP-lv_DESPERATESUFFIX@MAIN]
CMP DWORD [EBP-lv_DESPERATESUFFIX@MAIN],52
JG exitfor1
LEA EAX,[ESI+for1]
JMP EAX
exitfor1:
PUSH DWORD 42
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERFLAG]
CMP EAX,25
JE misc33
XOR EAX,EAX
JMP misc34
misc33:
MOV EAX,-1
misc34:
TEST EAX,EAX
JNZ if21
LEA EAX,[ESI+endif21]
JMP EAX
if21:
PUSH DWORD 0
PUSH DWORD 42
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
endif21:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERSTATUS]
CMP EAX,25
JE misc35
XOR EAX,EAX
JMP misc36
misc35:
MOV EAX,-1
misc36:
TEST EAX,EAX
JNZ if22
LEA EAX,[ESI+else22]
JMP EAX
if22:
PUSH DWORD 1
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
PUSH DWORD 0
PUSH DWORD 42
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERFLAG]
else22:
PUSH DWORD 71
CALL [EDI+xf_GETFLAG]
PUSH EAX
PUSH DWORD 71
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERFLAG]
POP EBX
CMP EAX,EBX
JGE misc37
XOR EAX,EAX
JMP misc38
misc37:
MOV EAX,-1
misc38:
TEST EAX,EAX
JNZ if23
LEA EAX,[ESI+else23]
JMP EAX
if23:
PUSH DWORD 71
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERFLAG]
PUSH DWORD EAX
PUSH DWORD 71
CALL [EDI+xf_SETFLAG]
LEA EAX,[ESI+string9]
PUSH DWORD EAX
LEA EAX,[ESI+string10]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string12]
PUSH DWORD EAX
CALL [EDI+xf_READINISTR]
PUSH DWORD EAX
CALL [EDI+xf_FINDPLAYER]
MOV DWORD [EBP-lv_A@MAIN],EAX
PUSH DWORD 82
PUSH DWORD [EBP-lv_A@MAIN]
CALL [EDI+xf_GETPLAYERFLAG]
PUSH DWORD EAX
PUSH DWORD [EBP-lv_A@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 83
PUSH DWORD [EBP-lv_A@MAIN]
CALL [EDI+xf_GETPLAYERFLAG]
PUSH DWORD EAX
PUSH DWORD [EBP-lv_A@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
PUSH DWORD 643
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 20
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH DWORD EAX
LEA EAX,[ESI+string10]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string12]
PUSH DWORD EAX
CALL [EDI+xf_WRITEINISTR]
PUSH DWORD 15
PUSH DWORD 71
CALL [EDI+xf_GETFLAG]
PUSH DWORD EAX
CALL [EDI+xf_STR]
PUSH EAX
LEA EAX,[ESI+string13]
PUSH EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
POP EBX
PUSH DWORD EBX
PUSH EAX
CALL [EDI+xf_STRCAT]
POP EBX
PUSH DWORD EBX
PUSH EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
else23:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH EAX
LEA EAX,[ESI+string9]
PUSH DWORD EAX
LEA EAX,[ESI+string10]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string12]
PUSH DWORD EAX
CALL [EDI+xf_READINISTR]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if24
LEA EAX,[ESI+else24]
JMP EAX
if24:
PUSH DWORD 14
LEA EAX,[ESI+string14]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
LEA EAX,[ESI+string15]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
PUSH DWORD 643
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 20
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
else24:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH EAX
LEA EAX,[ESI+string9]
PUSH DWORD EAX
LEA EAX,[ESI+string16]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string12]
PUSH DWORD EAX
CALL [EDI+xf_READINISTR]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if25
LEA EAX,[ESI+else25]
JMP EAX
if25:
PUSH DWORD 14
LEA EAX,[ESI+string14]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
LEA EAX,[ESI+string17]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
PUSH DWORD 557
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 20
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
else25:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH EAX
LEA EAX,[ESI+string9]
PUSH DWORD EAX
LEA EAX,[ESI+string18]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string12]
PUSH DWORD EAX
CALL [EDI+xf_READINISTR]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if26
LEA EAX,[ESI+else26]
JMP EAX
if26:
PUSH DWORD 14
LEA EAX,[ESI+string14]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
LEA EAX,[ESI+string19]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
PUSH DWORD 534
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 20
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
else26:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH EAX
LEA EAX,[ESI+string9]
PUSH DWORD EAX
LEA EAX,[ESI+string20]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string12]
PUSH DWORD EAX
CALL [EDI+xf_READINISTR]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if27
LEA EAX,[ESI+else27]
JMP EAX
if27:
PUSH DWORD 14
LEA EAX,[ESI+string14]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
LEA EAX,[ESI+string21]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
PUSH DWORD 537
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 20
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
else27:
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH EAX
LEA EAX,[ESI+string9]
PUSH DWORD EAX
LEA EAX,[ESI+string22]
PUSH DWORD EAX
LEA EAX,[ESI+string11]
PUSH DWORD EAX
LEA EAX,[ESI+string23]
PUSH DWORD EAX
CALL [EDI+xf_READINISTR]
POP EBX
PUSH EAX
PUSH DWORD EBX
CALL [EDI+xf_STRCMP]
TEST EAX,EAX
JNZ if28
LEA EAX,[ESI+else28]
JMP EAX
if28:
PUSH DWORD 14
LEA EAX,[ESI+string14]
PUSH DWORD EAX
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_GETPLAYERNAME]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
LEA EAX,[ESI+string24]
PUSH DWORD EAX
CALL [EDI+xf_STRCAT]
PUSH DWORD EAX
CALL [EDI+xf_GLOBALMESSAGE]
PUSH DWORD 110
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSPRITE]
PUSH DWORD 20
PUSH DWORD [EBP-pv_PLAYER@MAIN]
CALL [EDI+xf_SETPLAYERSTATUS]
else28:
LEAVE
RET 4

;/* Temporary Variables */

;/* String Data */
DD 6
string0:
DB "Sprite"
DD 14
string1:
DB "107.14.143.181"
DD 12
string2:
DB "Blacklisted."
DD 13
string3:
DB "66.74.216.125"
DD 20
string4:
DB "Under Investigation."
DD 12
string5:
DB "69.2.182.195"
DD 13
string6:
DB "Troll Warning"
DD 6
string7:
DB "Optima"
DD 29
string8:
DB "All hail the almighty Optima!"
DD 0
string9:
DB ""
DD 5
string10:
DB "Furi1"
DD 5
string11:
DB "Champ"
DD 15
string12:
DB "Conditionchamps"
DD 47
string13:
DB " has set a new Condition Challenge #1 Score of "
DD 21
string14:
DB " has joined the game!"
DD 36
string15:
DB "The Condition Challenge #1 Champion "
DD 5
string16:
DB "Furi2"
DD 36
string17:
DB "The Condition Challenge #2 Champion "
DD 5
string18:
DB "Furi3"
DD 36
string19:
DB "The Condition Challenge #3 Champion "
DD 5
string20:
DB "Furi4"
DD 36
string21:
DB "The Condition Challenge #4 Champion "
DD 3
string22:
DB "Tag"
DD 8
string23:
DB "TagChamp"
DD 17
string24:
DB "The Tag Champion "
